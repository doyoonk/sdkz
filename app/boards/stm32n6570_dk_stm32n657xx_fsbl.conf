#
# Copyright (c) 2025 HU Inc.
#
# SPDX-License-Identifier: Apache-2.0
#

# memmory map
CONFIG_FLASH=y
CONFIG_STM32_MEMMAP=y

# RTC
CONFIG_RTC=y
CONFIG_RTC_CALIBRATION=y

CONFIG_ENTROPY_STM32_RNG=y
CONFIG_ENTROPY_GENERATOR=y

CONFIG_RETENTION=y						# - Enables retention system
CONFIG_RETAINED_MEM=y					# - Enables retained memory driver
CONFIG_RETAINED_MEM_ZEPHYR_RAM=y
CONFIG_BOOT_SHARE_DATA=y				# - Enables shared data
CONFIG_BOOT_SHARE_DATA_BOOTINFO=y		# - Enables boot information shared data type
CONFIG_BOOT_SHARE_BACKEND_RETENTION=y	# - Stores shared data using retention/blinfo subsystem

CONFIG_MULTIPLE_EXECUTABLE_RAM_REGIONS=n

# Use the default MCUBoot PEM key file (BOOT_SIGNATURE_KEY_FILE)
CONFIG_BOOT_SIGNATURE_TYPE_RSA=y
CONFIG_BOOT_SIGNATURE_TYPE_RSA_LEN=2048
CONFIG_BOOT_SIGNATURE_KEY_FILE="${WEST_TOPDIR}/etc/ssl/certs/mcuboot_sign-rsa-2048.pem"

# Note that the MCUboot operating mode is not set here as sysbuild will
# automatically set it for both the application and MCUboot images itself
CONFIG_MCUBOOT_DOWNGRADE_PREVENTION=y